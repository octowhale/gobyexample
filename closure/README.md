# 闭包

首先，闭包不是一个包，而是一个概念

+ [JS中的闭包是什么](https://zhuanlan.zhihu.com/p/22486908?refer=study-fe) : 「函数」和「函数内部能访问到的变量」（也叫环境）的总和，就是一个闭包。  
+ 闭包的作用: 闭包常常用来「间接访问一个变量」。 换句话说，「隐藏一个变量」。


[vczh](https://www.zhihu.com/question/34210214/answer/92681959):
```
闭包不是私有，闭的意思不是 "封闭内部状态", 而是 “封闭外部状态”。 一个函数如何能封闭外部状态呢？当外部状态的 scope 失效的时候，还又一份保留的内部状态。
```

[寸志](https://www.zhihu.com/question/34210214/answer/93590294)

```
作者：寸志
链接：https://www.zhihu.com/question/34210214/answer/93590294
来源：知乎
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

JavaScript 闭包的本质源自两点，词法作用域和函数当作值传递。词法作用域，就是，按照代码书写时的样子，内部函数可以访问函数外面的变量。引擎通过数据结构和算法表示一个函数，使得在代码解释执行时按照词法作用域的规则，可以访问外围的变量，这些变量就登记在相应的数据结构中。函数当作值传递，即所谓的first class对象。就是可以把函数当作一个值来赋值，当作参数传给别的函数，也可以把函数当作一个值 return。一个函数被当作值返回时，也就相当于返回了一个通道，这个通道可以访问这个函数词法作用域中的变量，即函数所需要的数据结构保存了下来，数据结构中的值在外层函数执行时创建，外层函数执行完毕时理因销毁，但由于内部函数作为值返回出去，这些值得以保存下来。而且无法直接访问，必须通过返回的函数。这也就是私有性。本来执行过程和词法作用域是封闭的，这种返回的函数就好比是一个虫洞，开了挂。也就是 @秋月凉 答案中轮子哥那句话的意思。显然，闭包的形成很简单，在执行过程完毕后，返回函数，或者将函数得以保留下来，即形成闭包。实际上在 JavaScript 代码中闭包不要太常见。函数作为第一等对象之后 JavaScript 灵活得不要不要的。
```

[林侧](https://www.zhihu.com/question/34210214/answer/140282681)

```
通俗地讲就是别人家有某个东西，你想拿到但是因为权限不够（不打死你才怪），但是你可以跟家里的孩子套近乎，通过他拿到！
这个家就是局部作用域，外部无法访问内部变量，孩子是返回对象，对家里的东西有访问权限，借助返回对象间接访问内部变量！
```